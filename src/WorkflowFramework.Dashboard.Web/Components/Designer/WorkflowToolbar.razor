<div class="flex items-center gap-2 px-4 py-2 bg-gray-800 border-b border-gray-700">
    <input type="text" value="@WorkflowName"
           @oninput="e => OnWorkflowNameChanged.InvokeAsync(e.Value?.ToString() ?? string.Empty)"
           class="bg-gray-700 text-white px-3 py-1 rounded text-sm font-semibold w-56 focus:outline-none focus:ring-2 focus:ring-blue-500" />

    @if (IsDirty)
    {
        <span class="text-yellow-400 text-xs">â—</span>
    }

    <div class="w-px h-6 bg-gray-600 mx-1"></div>

    <button @onclick="OnNew" class="toolbar-btn" title="New">ğŸ“„ New</button>
    <button @onclick="OnSave" class="toolbar-btn" title="Save">ğŸ’¾ Save</button>

    <div class="w-px h-6 bg-gray-600 mx-1"></div>

    <button @onclick="OnRun" class="toolbar-btn text-green-400" title="Run">â–¶ Run</button>

    <div class="w-px h-6 bg-gray-600 mx-1"></div>

    <button @onclick="OnFitView" class="toolbar-btn" title="Fit View">âŠ Fit</button>
    <button @onclick="OnExport" class="toolbar-btn" title="Export JSON">ğŸ“‹ Export</button>

    <div class="flex-1"></div>
    <span class="text-gray-500 text-xs">WorkflowFramework Designer</span>
</div>

@code {
    [Parameter] public string WorkflowName { get; set; } = "";
    [Parameter] public EventCallback<string> OnWorkflowNameChanged { get; set; }
    [Parameter] public bool IsDirty { get; set; }
    [Parameter] public EventCallback OnNew { get; set; }
    [Parameter] public EventCallback OnSave { get; set; }
    [Parameter] public EventCallback OnRun { get; set; }
    [Parameter] public EventCallback OnExport { get; set; }
    [Parameter] public EventCallback OnFitView { get; set; }
}
